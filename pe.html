<html>
<body>
	Course Code:<br>
	<textarea id="codeinput"></textarea><br><br>
	<div id="codeoutput"></div>

	Course Title:<br>
	<textarea id="titleinput"></textarea><br><br>
	<div id="titleoutput"></div>

	Teaching Staff:<br>
	<textarea id="teacherinput"></textarea><br><br>
	<div id="teacheroutput"></div>

	Location:<br>
	<textarea id="locationinput"></textarea><br><br>
	<div id="locationoutput"></div>

	Language:<br>
	<textarea id="languageinput"></textarea><br><br>
	<div id="languageoutput"></div>

	<button onclick="translatedata()">Translate</button>
	
<script>
var datatemp1 = "Teacher:<input onkeyup="+'"'+"checkkey(event,'teacher')"+'"'+" type="+'"'+"text"+'"'+" id="+'"'+"teacherinput"+'"'+"> <button id="+'"'+"teacheradd"+'"'+" onclick="+'"'+"add('teacher')"+'"'+">add</button><br><br>Venue:<input onkeyup="+'"'+"checkkey(event,'venue')"+'"'+" type="+'"'+"text"+'"'+" id="+'"'+"venueinput"+'"'+"> <button id="+'"'+"venueadd"+'"'+" onclick="+'"'+"add('venue')"+'"'+">add</button><br><br>Sports:<input onkeyup="+'"'+"checkkey(event,'sports')"+'"'+" type="+'"'+"text"+'"'+" id="+'"'+"sportsinput"+'"'+"> <button id="+'"'+"sportsadd"+'"'+" onclick="+'"'+"add('sports')"+'"'+">add</button><br><br>Teaching plan:<select onclick="+'"'+"showpage('teachingplan')"+'"'+" id="+'"'+"teacherchoose"+'"'+"><option>t2</option><option>t1</option></select><select onclick="+'"'+"showpage('teachingplan')"+'"'+" id="+'"'+"venuechoose"+'"'+"><option>v2</option><option>v1</option></select><select onclick="+'"'+"showpage('teachingplan')"+'"'+" id="+'"'+"sportschoose"+'"'+"><option>s2</option><option>s1</option></select><select onclick="+'"'+"showpage('teachingplan')"+'"'+" id="+'"'+"genderchoose"+'"'+"><option>Male</option><option>Female</option><option>Mix</option></select><select onclick="+'"'+"showpage('teachingplan')"+'"'+" id="+'"'+"languagechoose"+'"'+"><option>C</option><option>E</option><option>P</option></select><input type="+'"'+"number"+'"'+" onclick="+'"'+"showpage('teachingplan')"+'"'+" id="+'"'+"quantitychoose"+'"'+" value="+'"'+"1"+'"'+"> <button id="+'"'+"teachingplanadd"+'"'+" onclick="+'"'+"add('teachingplan')"+'"'+">add</button><br><br><br><br><button onclick="+'"'+"showpage(&quot;teacher&quot;)"+'"'+">Teacher List</button><button onclick="+'"'+"showpage(&quot;venue&quot;)"+'"'+">Venue List</button><button onclick="+'"'+"showpage(&quot;sports&quot;)"+'"'+">Sports list</button><button onclick="+'"'+"showpage(&quot;teachingplan&quot;)"+'"'+">Teaching Plan List</button><br><br><div id="+'"'+"teacherlistarea"+'"'+" hidden="+'"'+""+'"'+"><h3>List of teachers:</h3><table style="+'"'+"width:70%"+'"'+" id="+'"'+"teacherlist"+'"'+"><tbody>";
var datatemp2 = "</tbody></table><br></div><div id="+'"'+"venuelistarea"+'"'+" hidden="+'"'+""+'"'+"><h3>List of venues:</h3><table style="+'"'+"width:70%"+'"'+" id="+'"'+"venuelist"+'"'+"><tbody>";
var tempdata3 = "</tbody></table><br></div><div id="+'"'+"sportslistarea"+'"'+" hidden="+'"'+""+'"'+"><h3>List of sports:</h3><table style="+'"'+"width:70%"+'"'+" id="+'"'+"sportslist"+'"'+"><tbody>";
var datatemp4 = "</tbody></table><br></div><div id="+'"'+"teachingplanlistarea"+'"'+"><h3>List of teaching plans:</h3><table style="+'"'+"width:90%"+'"'+" id="+'"'+"teachingplanlist"+'"'+"><tbody>";
var datatemp5 = "</tbody></table><br></div><br><br><button onclick="+'"'+"savepage()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Save Data</button><button onclick="+'"'+"showsaveddata()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Show Saved Data</button><!-- <button onclick="+'"'+"showsaveddata2()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Show Progress</button> --><button onclick="+'"'+"cleardata()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Clear all Data</button><button onclick="+'"'+"nextpage()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Done</button><br><br><button onclick="+'"'+"downloaddata()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Export Data</button><button onclick="+'"'+"readTextFile()"+'"'+" style="+'"'+"padding: 20px; border-radius: 50px;"+'"'+">Import Data</button>";

	function repeatdata(x){
		var finaldata = [], datact = 0;
		for (var j=x.length-1; j>=0; j--){
			var repeated = -1;
			for (var k=0; k<datact; k++){
				if (x[j]==finaldata[k])
					repeated = j;
			}
			if (repeated==-1){
				finaldata[datact] = x[j];
				datact++;
			}
		}
		return finaldata;
	}

	function translatedata(){
		var finaldata = "";
			var x1 = document.getElementById("codeinput").value.split("\n");
			var codearray = x1;
			// document.getElementById("codeoutput").innerHTML = repeatdata(codearray) +'<br>';

			// alert(x1[0].charCodeAt(0));
			var genderarray = [];
			var sportsarray = [];
			var x2 = document.getElementById("titleinput").value.split("\n");
			for (var j=0; j<x2.length; j++){
				var eng = 0;
				for (var k=0; k<x2[j].length; k++){
					if (x2[j].charCodeAt(k)<=255){
						eng = k;
					}
				}
				x2[j] = x2[j].substring(0,eng);
				var havegender = 0;
				var endgender = 0;
				for (var k=0; k<x2[j].length; k++){
					if (x2[j][k]=='('){
						havegender = k;
					}
					if (x2[j][k]==')'){
						endgender = k;
					}
				}
				if (havegender&&endgender){
					sportsarray[j] = x2[j].substring(0,havegender);
					genderarray[j] = x2[j].substring(havegender+1,endgender);
				} else {
					sportsarray[j] = x2[j];
					genderarray[j] = 'Mix';
				}
			}

			// document.getElementById("titleoutput").innerHTML = repeatdata(sportsarray)+'br';

			var x3 = document.getElementById("teacherinput").value.split("\n");
			for (var j=0; j<x3.length; j++){
				x3[j] = x3[j].substring(2,x3[j].length);
				// document.getElementById("teacheroutput").innerHTML += x[j]+'<br>';
			}
			var teacherarray = x3;
			// document.getElementById("teacheroutput").innerHTML = repeatdata(teachersarray)+'br';

			var x4 = document.getElementById("locationinput").value.split("\n");
			var locationarray = x4;
			// document.getElementById("locationoutput").innerHTML = repeatdata(locationsarray)+'br';


			var x5 = document.getElementById("languageinput").value.split("\n");
			var languagearray = x5;
		
		var newteacherarray = repeatdata(teacherarray);
		finaldata = datatemp1;
		for (var j=0; j<newteacherarray.length; j++){
			finaldata += '<tr><td>'+(j+1)+'</td><td>'+newteacherarray[j]+"</td><td><button onclick="+'"'+"deletetable(this,&quot;teacher&quot;)"+'"'+">x</button><td></tr>";
		}
		finaldata += datatemp2;
		prompt("",finaldata);
		var newlocationarray = repeatdata(locationarray);
		for (var j=0; j<newlocationsarray.length; j++){
			alert(j);
			finaldata += '<tr><td>'+(j+1)+'</td><td>'+newlocationsarray[j]+"</td><td><button onclick="+'"'+"deletetable(this,&quot;venue&quot;)"+'"'+">x</button><td></tr>";
		}
		alert('hi');
		finaldata += datatemp3;
		alert('hi');
		var newsportsarray = repeatdata(sportsarray);
		for (var j=0; j<newsportsarray.length; j++){
			finaldata += '<tr><td>'+(j+1)+'</td><td>'+newsportsarray[j]+"</td><td><button onclick="+'"'+"deletetable(this,&quot;sports&quot;)"+'"'+">x</button><td></tr>";
		}
		finaldata += datatemp4;
		for (var j=0; j<teacherarray.length; j++){
			finaldata += '<tr><td>'+(j+1)+'</td><td>'+teacherarray[j]+'</td><td>'+venuearray[j]+'</td><td>'+sportsarray[j]+'</td><td>'+genderarray[j]+'</td><td>'+codearray[j]+'</td><td>'+languagearray[j]+"</td><td><button onclick="+'"'+"deletetable(this,&quot;teachingplan&quot;)"+'"'+">x</button><td></tr>";
		}
		finaldata += datatemp5;
		prompt("Here is the data", finaldata);
		// for (var j=0; j<x.length; j++){
		// 	alert(x[j]);
		// }
	}




</script>
</body>
</html>
